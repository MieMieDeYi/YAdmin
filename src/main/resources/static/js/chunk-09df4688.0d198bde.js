(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-09df4688","chunk-daf82a36","chunk-2d216660"],{"08e2":function(e,t,n){},a55b:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"user-login"}},[n("div",{attrs:{id:"login-card"}},[n("el-row",{attrs:{gutter:20,type:"flex",justify:"center"}},[n("el-col",{attrs:{span:9}},[n("div",{staticStyle:{padding:"20px 15px 0px 35px"}},[n("div",{attrs:{id:"title"}},[n("h1",[e._v("系统登录")])]),n("el-form",{ref:"loginForm",attrs:{model:e.userData,rules:e.loginRules}},[n("el-form-item",{attrs:{prop:"username"}},[n("el-input",{attrs:{tabindex:"1",autofocus:!0},model:{value:e.userData.username,callback:function(t){e.$set(e.userData,"username",t)},expression:"userData.username"}},[n("template",{slot:"prepend"},[e._v("账户：")])],2)],1),n("el-form-item",{attrs:{prop:"password"}},[n("el-input",{attrs:{type:"password",tabindex:"2"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.login(t)}},model:{value:e.userData.password,callback:function(t){e.$set(e.userData,"password",t)},expression:"userData.password"}},[n("template",{slot:"prepend"},[e._v("密码：")])],2)],1),n("el-form-item",[n("el-button",{attrs:{type:"primary",id:"loginBtn",tabindex:"3"},on:{click:e.login}},[e._v("登录")])],1),n("el-form-item",[n("el-button",{attrs:{type:"primary",id:"loginBtn",tabindex:"3"},on:{click:function(t){return e.login(e.$api.OAUTH_QQ)}}},[e._v("QQ登录")])],1)],1)],1)]),n("el-col",{attrs:{span:15}},[n("el-image",{staticStyle:{width:"100%",height:"100%","background-color":"#EBF4FF",padding:"20px"},attrs:{src:"./img/login-bg.svg",fit:"contain"}})],1)],1)],1)])},a=[],s=(n("ccf4"),n("b705")),i=(n("a18c"),{data:function(){return{userData:{username:"admin",password:"123456"},loginRules:{username:[{required:!0,message:"请输入账户名称"}],password:[{required:!0,message:"请输入密码"}]},event:null}},methods:{receiveMsg:function(e){if(e.origin===this.$api.SERVER_BASE){var t=JSON.parse(e.data);console.log(t),200==t.code?(console.log(this),this.$store.commit("setToken",t.token),this.$router.push({name:"Home",params:{login:!0}})):this.$notify({title:t.msg,type:"warning"})}},login:function(e){var t=this;if("string"===typeof e){var n="width=600,height=500,top=100,left=100,menubar=yes,location=yes,resizable=yes,scrollbars=true,status=true",r=window.open(e,"_blank",n);window.addEventListener("message",this.receiveMsg),console.log(r)}else this.$refs["loginForm"].validate((function(e){if(e){var n=t.$loading({lock:!0,text:"登陆中...",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});t.$axios.post(t.$api.LOGIN,JSON.stringify(t.userData)).then((function(e){200==e.code&&(t.$store.commit("setToken",e.token),t.$router.push({name:"Home",params:{login:!0}})),n.close()})).catch((function(e){n.close()}))}else s["Message"].error("登录信息不完整")}))}},mounted:function(){this.$loading().close(),this.$route.params.msg&&this.$notify({title:this.$route.params.msg,type:"warning"})}}),o=i,u=(n("d443"),n("9ca4")),l=Object(u["a"])(o,r,a,!1,null,"12da92b4",null);t["default"]=l.exports},c1fb:function(e,t,n){"use strict";n.r(t);var r=n("82ae"),a=n.n(r);t["default"]=a.a},ccf4:function(e,t,n){"use strict";n.r(t);n("b449");var r=n("6648"),a=n("c1fb");t["default"]={login:function(e){return a["default"].post("/login",{uid:e.uid,pwd:e.pwd},{adapter:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",{data:!0});case 1:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()})}}},d443:function(e,t,n){"use strict";var r=n("08e2"),a=n.n(r);a.a}}]);