(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0d7dd6"],{7942:function(e,t,l){"use strict";l.r(t);var a=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",[l("el-card",{staticClass:"box-card"},[l("el-tabs",{on:{"tab-click":e.tabClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[l("el-tab-pane",{attrs:{label:"邮件发送",name:"sendMail"}},[l("el-row",[l("el-col",{attrs:{span:16}},[l("el-form",{ref:"modelForm",attrs:{model:e.sendForm,size:"small","label-width":"100px"}},[l("el-form-item",{attrs:{label:"收件箱",prop:"to"}},[l("el-input",{model:{value:e.sendForm.to,callback:function(t){e.$set(e.sendForm,"to",t)},expression:"sendForm.to"}})],1),l("el-form-item",{attrs:{label:"主题",prop:"subject"}},[l("el-input",{model:{value:e.sendForm.subject,callback:function(t){e.$set(e.sendForm,"subject",t)},expression:"sendForm.subject"}})],1),l("el-form-item",{attrs:{label:"内容",prop:"content"}},[l("el-input",{attrs:{type:"textarea"},model:{value:e.sendForm.content,callback:function(t){e.$set(e.sendForm,"content",t)},expression:"sendForm.content"}})],1),l("el-form-item",{attrs:{label:"模板",prop:"template"}},[l("el-select",{attrs:{placeholder:"请选择模板"},model:{value:e.sendForm.template,callback:function(t){e.$set(e.sendForm,"template",t)},expression:"sendForm.template"}},e._l(e.templates,(function(e){return l("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),l("el-form-item",{attrs:{label:"是否HTML",prop:"isHtml"}},[l("el-switch",{attrs:{"active-value":!0,"active-color":"#13ce66","inactive-value":!1,"inactive-color":"#ff4949"},model:{value:e.sendForm.isHtml,callback:function(t){e.$set(e.sendForm,"isHtml",t)},expression:"sendForm.isHtml"}})],1),l("el-form-item",{staticStyle:{"text-align":"right"}},[l("el-button",{attrs:{type:"primary"},on:{click:e.onSendMail}},[e._v("发送")])],1)],1)],1)],1)],1),l("el-tab-pane",{attrs:{label:"发件箱配置",name:"setting"}},[l("el-row",[l("el-col",{attrs:{span:11}},[l("el-form",{ref:"modelForm",attrs:{model:e.modelForm,size:"small","label-width":"100px"}},[l("el-form-item",{attrs:{label:"邮箱账号"}},[l("el-input",{model:{value:e.modelForm.email_username,callback:function(t){e.$set(e.modelForm,"email_username",t)},expression:"modelForm.email_username"}})],1),l("el-form-item",{attrs:{label:"邮箱密码"}},[l("el-input",{attrs:{"show-password":""},model:{value:e.modelForm.email_password,callback:function(t){e.$set(e.modelForm,"email_password",t)},expression:"modelForm.email_password"}})],1),l("el-form-item",{attrs:{label:"邮件发送名称"}},[l("el-input",{model:{value:e.modelForm.email_send_name,callback:function(t){e.$set(e.modelForm,"email_send_name",t)},expression:"modelForm.email_send_name"}})],1),l("el-form-item",{attrs:{label:"服务器地址"}},[l("el-input",{model:{value:e.modelForm.email_server_host,callback:function(t){e.$set(e.modelForm,"email_server_host",t)},expression:"modelForm.email_server_host"}})],1),l("el-form-item",{attrs:{label:"端口"}},[l("el-input",{model:{value:e.modelForm.email_server_port,callback:function(t){e.$set(e.modelForm,"email_server_port",e._n(t))},expression:"modelForm.email_server_port"}})],1),l("el-form-item",{attrs:{label:"是否开启SSL",prop:"ssl"}},[l("el-switch",{attrs:{"active-value":"true","active-color":"#13ce66","inactive-value":"false","inactive-color":"#ff4949"},model:{value:e.modelForm.email_ssl,callback:function(t){e.$set(e.modelForm,"email_ssl",t)},expression:"modelForm.email_ssl"}})],1),l("el-form-item",{staticStyle:{"text-align":"right"}},[l("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("保存")])],1)],1)],1),l("el-col",{attrs:{span:12,offset:1}},[l("el-card",{staticClass:"box-card",attrs:{shadow:"never"}},[l("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[l("span",[e._v("快速配置")])]),l("table",e._l(e.platforms,(function(t,a){return l("tr",{key:a,staticStyle:{height:"40px"}},[l("td",{staticStyle:{"padding-right":"10px"}},[e._v(e._s(t.name)+" ")]),l("td",e._l(t.setting,(function(t,a){return l("el-button",{key:a,attrs:{type:"danger",size:"mini",plain:""},on:{click:function(l){return e.setServer(t.value)}}},[e._v(e._s(t.label))])})),1)])})),0)])],1)],1)],1)],1)],1)],1)},o=[],s=(l("32ea"),l("1bc78"),{data:function(){return{activeName:"sendMail",API:this.$api.MAIL_API,propType:"email",modelForm:{email_username:"",email_password:"",email_send_name:"",email_server_host:"",email_server_port:"",email_ssl:!1},templates:[{value:"",label:"不使用模板"},{value:"mail-1.html",label:"模板一"}],sendForm:{to:"",subject:"",content:"",template:"",isHtml:!1},original:null,platforms:[{name:"网易免费邮",setting:[{label:"SMTP",value:["smtp.ym.163.com",25,!1]},{label:"SMTP加密",value:["smtp.ym.163.com",994,!0]},{label:"POP",value:["pop.ym.163.com",110,!1]},{label:"POP加密",value:["pop.ym.163.com",995,!0]}]},{name:"QQ邮箱",setting:[{label:"SMTP加密",value:["smtp.qq.com",995,!0]},{label:"POP加密",value:["pop.qq.com",465,!0]}]}]}},methods:{tabClick:function(){},queryHandler:function(){var e=this;this.$axios.get(this.$api.PROP_API,{type:"email"},!1).then((function(t){200==t.code&&(e.original=t.data,t.data.forEach((function(t){e.modelForm[t.propKey.toLowerCase()]=t.propValue})))})).catch((function(e){}))},onSubmit:function(){var e=this;this.original.forEach((function(t){t.propValue=e.modelForm[t.propKey]})),this.$axios.post(this.API,JSON.stringify(this.original),!0).then((function(e){e.code})).catch((function(e){}))},onSendMail:function(){var e=this,t=new FormData;Object.keys(this.sendForm).forEach((function(l){t.append(l,e.sendForm[l])})),this.$axios.post(this.$api.MAIL_SEND,t,!0,{"Content-Type":"application/x-www-form-urlencoded"}).then((function(e){e.code})).catch((function(t){e.$notify({title:res.msg,type:"error"})}))},setServer:function(e){this.modelForm.email_server_host=e[0],this.modelForm.email_server_port=e[1],this.modelForm.email_ssl=e[2]+""}},mounted:function(){this.queryHandler()},watch:{}}),r=s,n=l("5d22"),i=Object(n["a"])(r,a,o,!1,null,null,null);t["default"]=i.exports}}]);