(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-463ff1e7"],{"8bca":function(e,t,s){"use strict";s("b96f")},a55b:function(e,t,s){"use strict";s.r(t);var n=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"user-login"}},[s("div",{attrs:{id:"login-card"}},[s("el-row",{attrs:{gutter:20,type:"flex",justify:"center"}},[s("el-col",{attrs:{span:9}},[s("div",{staticStyle:{padding:"20px 15px 0px 35px"}},[s("div",{attrs:{id:"title"}},[s("h1",[e._v("系统登录")])]),s("el-form",{ref:"loginForm",attrs:{model:e.userData,rules:e.loginRules}},[s("el-form-item",{attrs:{prop:"username"}},[s("el-input",{attrs:{tabindex:"1",autofocus:!0},model:{value:e.userData.username,callback:function(t){e.$set(e.userData,"username",t)},expression:"userData.username"}},[s("template",{slot:"prepend"},[e._v("账户：")])],2)],1),s("el-form-item",{attrs:{prop:"password"}},[s("el-input",{attrs:{type:"password",tabindex:"2"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.login(t)}},model:{value:e.userData.password,callback:function(t){e.$set(e.userData,"password",t)},expression:"userData.password"}},[s("template",{slot:"prepend"},[e._v("密码：")])],2)],1),s("el-form-item",[s("el-button",{attrs:{type:"primary",id:"loginBtn",tabindex:"3"},on:{click:e.login}},[e._v("登录")])],1),s("el-form-item",[s("el-button",{attrs:{type:"primary",id:"loginBtn",tabindex:"3"},on:{click:function(t){return e.login(e.$api.OAUTH_QQ)}}},[e._v("QQ登录")])],1)],1)],1)]),s("el-col",{attrs:{span:15}},[s("el-image",{staticStyle:{width:"100%",height:"100%","background-color":"#EBF4FF",padding:"20px"},attrs:{src:"./img/login-bg.svg",fit:"contain"}})],1)],1)],1)])},a=[],i=(s("6a61"),s("60b5"),s("82ae")),r=s.n(i),o=(r.a,s("2763")),l=(s("a18c"),{data:function(){return{userData:{username:"admin",password:"123456"},loginRules:{username:[{required:!0,message:"请输入账户名称"}],password:[{required:!0,message:"请输入密码"}]},event:null}},methods:{receiveMsg:function(e){if(e.origin===this.$api.SERVER_BASE){var t=JSON.parse(e.data);console.log(t),200==t.code?(console.log(this),this.$store.commit("setToken",t.token),this.$router.push({name:"Home",params:{login:!0}})):this.$notify({title:t.msg,type:"warning"}),window.removeEventListener("message",this.receiveMsg)}},login:function(e){var t=this;if("string"===typeof e){var s="width=600,height=500,top=100,left=100,menubar=yes,location=yes,resizable=yes,scrollbars=true,status=true";window.open(e,"_blank",s),window.addEventListener("message",this.receiveMsg)}else this.$refs["loginForm"].validate((function(e){if(e){var s=t.$loading({lock:!0,text:"登陆中...",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});t.$axios.post(t.$api.LOGIN,JSON.stringify(t.userData)).then((function(e){200==e.code&&(t.$store.commit("setToken",e.token),t.$router.push({name:"Home",params:{login:!0}})),s.close()})).catch((function(e){s.close()}))}else o["Message"].error("登录信息不完整")}))}},mounted:function(){this.$loading().close(),this.$route.params.msg&&this.$notify({title:this.$route.params.msg,type:"warning"})}}),u=l,c=(s("8bca"),s("5d22")),p=Object(c["a"])(u,n,a,!1,null,"1d12243c",null);t["default"]=p.exports},b96f:function(e,t,s){}}]);